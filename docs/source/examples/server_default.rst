Server Default
==============

OpenAlchemy supports defining a default value generated by the database
through the :samp:`x-server-default` extension property. It is similar to the
OpenAPI :samp:`default` property except that the default value is calculated
by the database rather than the application.

.. seealso::

    :ref:`server-default`
      OpenAlchemy documentation for the server default value.

    :ref:`default`
      OpenAlchemy documentation for the default value.

    `SQLAlchemy Server Default <https://docs.sqlalchemy.org/en/13/core/metadata.html#sqlalchemy.schema.Column.params.server_default>`_
      Documentation for the SQLAlchemy server default.

The following example defines a default value for the :samp:`name` property of
:samp:`Employee`:

.. literalinclude:: ../../../examples/server_default/example-spec.yml
    :language: yaml
    :linenos:

The following file uses OpenAlchemy to generate the SQLAlchemy models:

.. literalinclude:: ../../../examples/server_default/models.py
    :language: python
    :linenos:

The SQLAlchemy models generated by OpenAlchemy are equivalent to the following
traditional models file:

.. literalinclude:: ../../../examples/server_default/models_traditional.py
    :language: python
    :linenos:

OpenAlchemy will generate the following typed models:

.. literalinclude:: ../../../examples/server_default/models_auto.py
    :language: python
    :linenos:
